!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class r{constructor(t,e,n){this.ctx=t,this.bodycolor=e,this.headcolor=n}draw(t,e){let n=this.ctx;n.clearRect(0,0,800,500),t.forEach((e,r)=>{r!==t.length-1?(n.beginPath(),n.fillStyle=this.bodycolor):(n.beginPath(),n.fillStyle=this.headcolor),n.fillRect(e[0],e[1],10,10),n.closePath()})}}class o{constructor(t,e,n){this.ctx=t,this.x=e,this.y=n,this.size=10}drawfood(){let t=this.ctx;t.beginPath(),t.fillStyle="green",t.fillRect(this.x,this.y,this.size,this.size),t.closePath()}}const i=document.getElementById("canvas"),c=i.getContext("2d");let l,s,a="right",h=[],f=[],u=!0;function d(){!function(){i.removeEventListener("click",d);let t=new r(c,"#000","red");a="right",f=[];for(let t=0;t<5;t++)f[t]=[10*t,100];var e=setInterval(()=>{if(t.draw(f,a),0==h.length?function t(){l=10*Math.floor(79*Math.random());s=10*Math.floor(49*Math.random());Promise.resolve().then(()=>new Promise((t,e)=>{f.forEach(t=>{t.toString()===[l,s].toString()&&e()}),t()})).then(()=>{h.push(new o(c,l,s))}).catch(()=>{t()})}():h[0].drawfood(),function(t){if(t[t.length-1][0]>800||t[t.length-1][0]<0||t[t.length-1][1]>500||t[t.length-1][1]<0||-1!=t.map((e,n)=>e.toString()==t[t.length-1].toString()&&n!=t.length-1?(console.log("hello"),"over"):"success").toString().indexOf("over"))return alert("game over"),!0}(f))return i.addEventListener("click",d),void clearInterval(e);(function(t,e,n){return n[n.length-1].toString()==[t,e].toString()})(l,s,f)&&("left"==a||"right"==a?f.unshift([f[0][0]-10,f[0][1]]):f.unshift([f[0][0],f[0][1]]-10),h.splice(0,1)),function(t,e){switch(t){case"left":e.forEach((t,n)=>{n==e.length-1?e[n][0]-=10:e[n]=e[n+1].slice(0,2)});break;case"up":e.forEach((t,n)=>{n==e.length-1?e[n][1]-=10:e[n]=e[n+1].slice(0,2)});break;case"right":e.forEach((t,n)=>{n==e.length-1?e[n][0]+=10:e[n]=e[n+1].slice(0,2)});break;case"down":e.forEach((t,n)=>{n==e.length-1?e[n][1]+=10:e[n]=e[n+1].slice(0,2)})}}(a,f),u=!0},50)}()}window.onload=function(){document.onkeydown=function(){switch(event.keyCode){case 37:"right"!==a&&u&&(a="left",u=!1);break;case 38:"down"!==a&&u&&(a="up",u=!1);break;case 39:"left"!==a&&u&&(a="right",u=!1);break;case 40:"up"!==a&&u&&(a="down",u=!1);break;default:return}},d()}}]);